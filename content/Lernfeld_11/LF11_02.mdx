---
title: 'Übersicht: IPsec, TLS, Tunneling und Verschlüsselung'
description: 'Strukturierte Übersicht zu VPN, Tunneling, TLS/SSL, Verschlüsselungsverfahren und Zertifikaten'
tags: ['Netzwerksicherheit', 'IPsec', 'TLS', 'VPN', 'Verschlüsselung']
---

## IPsec (Internet Protocol Security)
- **Erweiterung von IP** um Verschlüsselung & Authentifizierung  
- **Absicherung von IP-Paketen** über unsichere Netze  
- Ursprünglich für **IPv6**, später für IPv4 spezifiziert  

---
## Bestandteile von IPsec-VPNs
- **Interoperabilität** zwischen Systemen  
- **Kryptografischer Schutz** der Daten  
- **Zugangskontrolle** & **Integrität**  
- **Authentifizierung** von Absendern  
- **Verschlüsselung** der Übertragung  
- **Schlüsselmanagement** via IKE/Zertifikate  

---
## Einsatz-Szenarien
- **Gateway-zu-Gateway**: Netze verbinden  
- **Host-zu-Gateway**: Remote-Zugriff  
- **Host-zu-Host**: Direktverbindungen  

---
## Protokolle und Komponenten
- **Security Association (SA)**: Parameter für Authentifizierung, Algorithmen, Schlüssel  
- **Authentication Header (AH)**: Integrität & Authentizität  
- **Encapsulating Security Payload (ESP)**: Verschlüsselung & Authentifizierung  
- **IKE/IKEv2**: Automatisches Schlüsselmanagement  

---
## NAT-Herausforderungen
- **Problem**: NAT stört IPsec-Pakete  
- **Lösungen**:  
  - **Passthrough**: Nur ein Client  
  - **NAT-Traversal (NAT-T)**: ESP in UDP (Port 4500)  

### VPN-Aufbau mit NAT-Traversal
Schritt 1 → Verfahren ermitteln  
Schritt 2 → NAT-System erkennen  
Schritt 3 → Keep-Alive aktivieren  
Schritt 4 → IKE-Aushandlung  
Schritt 5 → Verfahren festlegen  
Schritt 6 → Schlüssel austauschen  
→ **VPN-Verbindung aktiv**

---
## Tunneling
- **Einkapselung von Paketen** für inkompatible Netze  
- Ermöglicht z. B. **IPv6 über IPv4**  
- Grundlage für **VPN-Tunnel**  

### Protokolle
- **GRE**: Routing-Kapselung  
- **IP-in-IP**: IP über IP  
- **SSH-Tunnel**: Anwendungsebene  
- **PPTP, SSTP, L2TP, VXLAN**: Weitere Standards  

---
## TLS / SSL
- **Standard für Websicherheit (HTTPS)**  
- **Funktionen**: Authentifikation, Vertraulichkeit, Integrität  

### Schichten
- Zwischen Transport- & Anwendungsschicht  
- **Record Layer**: Fragmentierung, HMAC, Verschlüsselung  
- **Handshake**: Sicherheitsparameter aushandeln  

### TLS 1.3 Neuerungen
- **Perfect Forward Secrecy**  
- **1-RTT-Handshake** (schneller)  
- **0-RTT-Resumption**  
- **Wenige Cipher Suites** (5 sichere)  
- **Authenticated Encryption**  

---
## Verschlüsselungsverfahren
### Symmetrisch
- **Ein Schlüssel** für beide Richtungen  
- **Vorteil**: Schnell  
- **Nachteil**: Schlüsselverteilung schwierig  
- **Beispiele**: DES (alt), AES (Standard)  

### Asymmetrisch
- **Public/Private Key**  
- **Vorteil**: Einfacher Schlüsselaustausch  
- **Nachteil**: Langsam  
- **Beispiele**: RSA, Diffie-Hellman  

### Hybride Verschlüsselung
Schritt 1 → Daten symmetrisch verschlüsseln  
Schritt 2 → Schlüssel asymmetrisch übertragen  
Schritt 3 → Empfänger entschlüsselt Schlüssel  
Schritt 4 → Daten entschlüsseln  

---
## Digitale Zertifikate
- **Echtheitsnachweis** einer Zertifizierungsstelle (CA)  
- Enthalten: Inhaber, CA, Gültigkeit, Seriennummer, Schlüssel, Signatur  
- **Digitale Signatur**: Hash + privater Schlüssel der CA  
- **Einsatz**: HTTPS, E-Mail, Software-Signaturen  

---
## Vergleich
| Merkmal       | IPsec (Netzwerkebene) | TLS (Transport-/App-Ebene) |
|---------------|------------------------|----------------------------|
| Schutz        | Gesamter IP-Traffic    | Einzelne Anwendungen       |
| Einsatz       | Site-to-Site, VPN      | Web (HTTPS), Apps          |
| Overhead      | Höher                  | Optimiert                  |

---
## Wichtige Begriffe
- **Security Association (SA)**: Vereinbarung über Algorithmen & Schlüssel  
- **IKE/IKEv2**: Schlüsselmanagement-Protokoll  
- **ESP**: Verschlüsselung & Integritätsschutz  
- **Perfect Forward Secrecy (PFS)**: Schlüssel unabhängig voneinander  

---
## Prozess-Flow: VPN-Aufbau
Client → IKE-Aushandlung → SA-Erstellung → Schlüsselgenerierung → ESP-Datenübertragung → **Gesicherte Verbindung**
